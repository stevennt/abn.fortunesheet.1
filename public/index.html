<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FOPO: ABN Food Police</title>
  <!-- AdminLTE CSS -->
  <link rel="stylesheet" href="https://adminlte.io/themes/v3/dist/css/adminlte.min.css">
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- Font Awesome -->
  <!--
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    .chart-container {
      height: 300px;
      margin: 10px;
      padding: 20px;
      background-color: #fff;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      max-height: 300px; /* Added fixed height */
      overflow: auto; /* Added overflow */
    }
    .chart-button {
      color: #000;
      padding: 5px 10px;
      border: none;
      background: none;
      cursor: pointer;
    }
    .chart-buttons {
      display: flex;
      justify-content: flex-end;
    }
    .chart-buttons > button {
      margin-right: 10px;
    }
    @media (max-width: 767px) {
      .sidebar {
        transform: translateX(-250px);
      }

      .sidebar.open {
        transform: translateX(0);
      }

      .content {
        margin-left: 0; /* Changed to 0 for full screen */
      }
      
      .toggle-btn {
        display: block;
        position: fixed;
        right: 10px;
        top: 10px;
        cursor: pointer;
        z-index: 9999;
      }

      .toggle-btn span {
        display: block;
        width: 30px;
        height: 5px;
        background-color: #333;
        margin-bottom: 5px;
      }
      .App {
        height: calc(100vh - 40px);
      }
    } 
  </style>
</head>
<body class="hold-transition sidebar-mini">
  <!-- Main Wrapper -->
  <div class="wrapper">

    <!-- Main Sidebar Container -->
    <aside id="main-sidebar" class="main-sidebar sidebar-light-primary elevation-4">

      <!-- Brand Logo -->
      <a href="#" class="brand-link">
        <img src="../images/abngriffin.png" alt="Food Police Logo" class="brand-logo" style="width: 40%;">
        <span class="brand-text font-weight-light" style="font-family: 'Arial Black', sans-serif; font-size: 14px; color: red; text-transform: uppercase; letter-spacing: 2px;">Food Police</span>
      </a>
            <!-- Sidebar -->
      <div class="sidebar">

        <!-- Sidebar Menu -->
        <nav class="mt-2">
          <form class="form-inline">
            <div class="input-group">
              <input class="form-control form-control-sidebar" type="search" placeholder="Search" aria-label="Search">
              <div class="input-group-append">
                <button class="btn btn-sidebar" type="submit">
                  <i class="fas fa-search"></i>
                </button>
              </div>
            </div>
          </form>

          <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">

            <!-- Dashboard -->
            <li class="nav-item">
              <a href="#" class="nav-link" onclick="loadDashboard()">
                <i class="nav-icon fas fa-chart-line"></i>
                <p>Dashboard</p>
              </a>
            </li>
            <!-- Menu 1 -->
            <li class="nav-item">
              <a href="#" class="nav-link" onclick="loadDashboard()">
                <i class="fa-solid fa-map"></i>
                <p>Bản đồ</p>
              </a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link" onclick="loadDashboard()">
                <i class="fa-solid fa-people-roof"></i>
                <p>Hộ nông dân</p>
              </a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link" onclick="loadDashboard()">
                <i class="fa-solid fa-tractor"></i>
                <p>Đơn vị sản xuất</p>
              </a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link" onclick="loadDashboard()">
                <i class="fa-solid fa-people-line"></i>
                <p>Nhóm</p>
              </a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link" onclick="loadDashboard()">
                <i class="fa-solid fa-user-pen"></i>
                <p>Chuyên gia</p>
              </a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link" onclick="loadDashboard()">
                <i class="fa-solid fa-graduation-cap"></i>
                <p>Đào tạo</p>
              </a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link" onclick="loadDashboard()">
                <i class="fa-solid fa-tags"></i>
                <p>Quản lý sản phẩm</p>
              </a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link" onclick="loadDashboard()">
                <i class="nav-icon fas fa-seedling"></i>
                <p>Quản lý thông tin truy xuất</p>
              </a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link" onclick="loadDashboard()">
                <i class="fa-solid fa-truck"></i>
                <p>Vận chuyển</p>
              </a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link" onclick="loadDashboard()">
                <i class="fa-solid fa-truck-plane"></i>
                <p>Bản đồ phân phối</p>
              </a>
            </li>
            
            <li class="nav-item">
              <a href="#" class="nav-link" data-toggle="collapse" data-target="#collapseMenu">
                <i class="fa-solid fa-gear"></i>
                <p>Quản lý</p>
                <i class="nav-icon fas fa-chevron-down collapse-icon"></i>
                                
              </a>
              <ul id="collapseMenu" class="nav nav-pills nav-sidebar flex-column collapse">
                <!-- Layer -->
                <li class="nav-item ml-3">
                  <a href="#" class="nav-link" onclick="loadDashboard()">
                    <i class="nav-icon fas fa-chart-line"></i>
                    <p>Layer</p>
                  </a>
                </li>
                <!-- Menu 1 -->
                <li class="nav-item ml-3">
                  <a href="#" class="nav-link" onclick="loadDashboard()">
                    <i class="nav-icon fas fa-seedling"></i>
                    <p>Layer</p>
                  </a>
                </li>
                <li class="nav-item ml-3">
                  <a href="#" class="nav-link" onclick="loadDashboard()">
                    <i class="nav-icon fas fa-seedling"></i>
                    <p>Layer</p>
                  </a>
                </li>
                <li class="nav-item ml-3">
                  <a href="#" class="nav-link" onclick="loadDashboard()">
                    <i class="nav-icon fas fa-seedling"></i>
                    <p>Layer</p>
                  </a>
                </li>
              </ul>
            </li>
                              
            
            
            


          </ul>
        </nav>
        <!-- End Sidebar Menu -->
      </div>
      <!-- End Sidebar -->
    </aside>
    <!-- End Main Sidebar Container -->

    <!-- Content Wrapper -->
    <div class="content-wrapper">
      <!-- Main content -->
      <section class="content">
        <div class="container-fluid">
          <!-- Placeholder for dynamic content -->
          <div id="dashboardHeader" class="row">
            <img src="../images/abngriffin.png" alt="Food Police Logo" class="brand-logo" style="width: 5%;">
          </div>
          <!-- Toggle Button -->
          <div class="toggle-btn" onclick="toggleSidebar()">
            <span></span>
            <span></span>
            <span></span>
          </div>

        </div>        
        
        <div class="container-fluid">
          <div id="root"></div>
          <!-- Placeholder for dynamic content -->
          <div id="dashboardContainer" class="row"></div>
        </div>
      </section>
      <!-- End Main content -->
    </div>
    <!-- End Content Wrapper -->
  </div>
  <!-- End Main Wrapper -->

  <!-- AdminLTE JS -->
  <script src="https://adminlte.io/themes/v3/dist/js/adminlte.min.js"></script>

  <script>
    
    // Load Dashboard Function
    function loadDashboard() {
      // Remove existing charts if any
      var dashboardContainer = document.getElementById('dashboardContainer');
      dashboardContainer.innerHTML = '';

      // Number of charts
      var numCharts = 9;

      // Create and append chart containers
      for (var i = 1; i <= numCharts; i++) {
        var chartContainer = document.createElement('div');
        chartContainer.id = 'chartContainer' + i;
        chartContainer.classList.add('col-md-4');
        dashboardContainer.appendChild(chartContainer);

        // Generate random chart data
        var chartData = getRandomData();

        // Create chart canvas
        var canvas = document.createElement('canvas');
        canvas.id = 'chart' + i;
        chartContainer.appendChild(canvas);

        // Create chart
        var ctx = canvas.getContext('2d');
        new Chart(ctx, {
          type: 'bar',
          data: {
            labels: ['January', 'February', 'March', 'April', 'May', 'June'],
            datasets: [{
              label: 'Chart ' + i,
              data: chartData,
              backgroundColor: getRandomColor(),
              borderWidth: 0
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: true,
            scales: {
              y: {
                beginAtZero: true
              }
            }
          }
        });

        // Function to generate random color
        function getRandomColor() {
          var letters = '0123456789ABCDEF';
          var color = '#';
          for (var i = 0; i < 6; i++) {
            color += letters[Math.floor(Math.random() * 16)];
          }
          return color;
        }

        // Add buttons to chart container
        var buttonsContainer = document.createElement('div');
        buttonsContainer.classList.add('chart-buttons');
        chartContainer.appendChild(buttonsContainer);

        // Create random icons
        var icons = ['fa-star', 'fa-heart', 'fa-circle', 'fa-square', 'fa-check'];
        for (var j = 0; j < icons.length; j++) {
          var button = document.createElement('button');
          button.classList.add('chart-button', 'fa', icons[j]);
          buttonsContainer.appendChild(button);
        }
      }
    }

    // Function to generate random data
    function getRandomData() {
      var data = [];
      for (var i = 0; i < 6; i++) {
        data.push(Math.floor(Math.random() * 1000));
      }
      return data;
    }
        // Load dashboard on page load
    document.addEventListener('DOMContentLoaded', loadDashboard);

  </script>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script>
    $(document).ready(function() {
      $('.nav-link[data-toggle="collapse"]').click(function() {
        var collapseIcon = $(this).find('.collapse-icon');
        collapseIcon.toggleClass('fa-chevron-down fa-chevron-up');
      });
    });
  </script>
  <script>
    function toggleSidebar() {
      var sidebar = document.getElementsByClassName('sidebar')[0];
      sidebar.classList.toggle('open');
    }
  </script>
  <script>
    function toggleSidebar() {
      var sidebar = document.getElementById('main-sidebar');
      sidebar.classList.toggle('open');
    }
  </script>  
</body>
</html>
